schemaVersion: 2.1.0
metadata:
  name: pipelines-vote-ui
  namespace: pipelines-vote-ui

components:
  - name: pipelines-vote-ui
    type: git
    metadata:
      repository: https://github.com/basavaraju-G/pipelines-vote-ui
      revision: main
    container:
      image: node:latest
      env:
        - name: NODE_ENV
          value: development
      volumeMounts:
        - name: pipelines-vote-ui
          path: /app

  - name: vscode
    type: vscode
    metadata:
      image: vscodium/vscodium:latest
    container:
      volumeMounts:
        - name: pipelines-vote-ui
          path: /app

volumes:
  - name: pipelines-vote-ui
    type: emptyDir

projects:
  - name: pipelines-vote-ui-dev
    source:
      git:
        url: https://github.com/basavaraju-G/pipelines-vote-ui
        ref: main
    components:
      - name: pipelines-vote-ui
        volumeMounts:
          - name: pipelines-vote-ui
            path: /app
        container:
          workingDir: /app
      - name: vscode
        container:
          workingDir: /app
    commands:
      - id: start
        actions:
          - name: start-ui
            component: pipelines-vote-ui
            command: npm start
            container:
              terminal: vscode
