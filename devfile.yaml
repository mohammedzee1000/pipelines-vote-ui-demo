apiVersion: 3
metadata:
  name: pipelines-vote-ui
  namespace: pipelines-vote-ui

components:
  - name: pipelines-vote-ui
    type: git
    metadata:
      repository: https://github.com/basavaraju-G/pipelines-vote-ui
      revision: master
    container:
      image: node:latest
      env:
        - name: NODE_ENV
          value: development
      volumeMounts:
        - name: pipelines-vote-ui
          path: /app

  - name: vscode
    type: vscode
    metadata:
      image: vscodium/vscodium:latest
    container:
      volumeMounts:
        - name: pipelines-vote-ui
          path: /app

projects:
  - name: pipelines-vote-ui-dev
    components:
      - name: pipelines-vote-ui
        volumeMounts:
          - name: pipelines-vote-ui
            path: /app
        container:
          workingDir: /app
      - name: vscode
        container:
          workingDir: /app
    tasks:
      - name: start
        command:
          - npm
          - start
        component: pipelines-vote-ui
        container:
          terminal: vscode
